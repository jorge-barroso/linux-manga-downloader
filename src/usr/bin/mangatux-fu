#!/bin/bash

source ~/.Mangatux/options;
source /usr/share/Mangatux/langs/$LMLANG;

function SMAFU(){
if $SUBMANGA_DNVAR == true ;
then
	submanga -n $SMENTRY
fi

if $SUBMANGA_BULKVAR == true ;
then
	submanga -b $SMENTRY
fi

if $SUBMANGA_LISTVAR == true ;
then
	submanga -l
fi
}

function MCAFU(){
if $MCANIME_DNVAR == true ;
then
	mcanime -n $MCENTRY
fi

if $MCANIME_LISTVAR == true ;
then
	mcanime -l
fi
}

function RASCAFU(){
if $MANGAFOX_DNVAR == true ;
then
	mangafox -n $RASCAENTRY
fi

if $MANGAHEAD_DNVAR == true ;
then
	mangahead -n $RASCAENTRY
fi

if $MANGASHARE_DNVAR == true ;
then
	mangashare -n $RASCAENTRY
fi

if $MANGAREADER_DNVAR == true ;
then
	mangareader $RASCAENTRY
fi

if $ANIMEA_DNVAR == true ;
then
	animea -n $RASCAENTRY
fi
}


function HENFU(){
if $FUTAHENTAI_DNVAR == true ;
then
	futahentai $HENTRY
fi

if $EHENTAI_DNVAR == true ;
then
	ehentai $HENTRY
fi
}

function OTHERFU(){
if $FORCHAN == true ;
then
	4chan $OTSENTRY
fi
if $ZEROCHAN == true ;
then
	zerochan $OTSENTRY
fi
if $BORU == true ;
then
	danboru $OTSENTRY
fi
if $POWNIT == true ;
then
	pown $OTSENTRY
fi

}

function SAVECONFFU(){
source /tmp/configtmp;
if [ $CHECKSAVE == true ]
then
OLDLANG=$LMLANG
    echo "#
#Options File
#
    
CDIR=\"$FILE_DIRECTORY\"
" > ~/.Mangatux/options
if [ $MTXLANG == ""]; then
    echo "LMLANG=\"$OLDLANG\"" >> ~/.Mangatux/options;
    notify-send --icon=pen "Mangatux" "$CFSAVE"
else
    if [ $MTXLANG == "$LANG1" ]; then
        echo "LMLANG=\"es_ES\"" >> ~/.Mangatux/options;
        notify-send --icon=pen "Mangatux" "$CFSAVE"
    else
        if [ $MTXLANG == "$LANG2" ]; then
            echo "LMLANG=\"ca_CA\"" >> ~/.Mangatux/options;
            notify-send --icon=pen "Mangatux" "$CFSAVE"
        else
            if [ $MTXLANG == $LANG3 ]; then
                echo "LMLANG=\"en_EN\"" >> ~/.Mangatux/options;
                notify-send --icon=pen "Mangatux" "$CFSAVE"
            else
                echo "LMLANG=\"en_EN\"" >> ~/.Mangatux/options;
                zenity --error --title="Not supported" --text="Not supported, setting English"
#            else
#                if [ $MTXLANG == $LANG4 ] && echo "LMLANG=\"fr_FR\"" >> ~/.Mangatux/options;
		    fi
        fi
    fi
fi
[ ! -d $FILE_DIRECTORY ] && mkdir -p $FILE_DIRECTORY
rm /tmp/configtmp;
fi
}

##########################################################################

function RECONF(){
if [ -d ~/.Mangatux ]; then
	rm -r ~/.Mangatux
fi
mkdir $HOME/.Mangatux
echo "#
##Options File
#

CDIR=\"$HOME/manga\"
LMLANG=\"en_EN\"" > $HOME/.Mangatux/options

notify-send --icon=pen "Mangatux" "Config set to default values"
}

if [ $USER == "root" ];
then
	echo "$ROOTERR" 
else

case $1 in
	-submanga)
		SMAFU
		;;
	-mcanime)
		MCAFU
		;;
	-rawescan)
		RASCAFU
		;;
	-hentai)
		HENFU
		;;
	-others)
		OTHERFU
		;;
	-saveconfig)
		SAVECONFFU
		;;
	-reconf)
		RECONF
		;;
	*)
		echo $SMA14
		exit
		;;
esac
fi
